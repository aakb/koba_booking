# --- Administration pages routing --- #
koba_booking.booking:
  path: '/admin/booking'
  defaults:
    _entity_list: 'koba_booking_booking'
    _title: 'Bookings list'
  requirements:
    _permission: 'administer booking settings'

koba_booking.accepted:
  path: '/admin/booking/accepted'
  defaults:
    _form: '\Drupal\koba_booking\Form\AdminAcceptedListForm'
    _title: 'Bookings accepted list'
  requirements:
    _permission: 'administer booking settings'

koba_booking.refused:
  path: '/admin/booking/refused'
  defaults:
    _form: '\Drupal\koba_booking\Form\AdminRefusedListForm'
    _title: 'Bookings refused list'
  requirements:
    _permission: 'administer booking settings'

koba_booking.cancelled:
  path: '/admin/booking/cancelled'
  defaults:
    _form: '\Drupal\koba_booking\Form\AdminCancelledListForm'
    _title: 'Bookings cancelled list'
  requirements:
    _permission: 'administer booking settings'

koba_booking.pending:
  path: '/admin/booking/pending'
  defaults:
    _entity_list: 'koba_booking_booking'
    _title: 'Bookings pending list'
  requirements:
    _permission: 'view pending bookings list'

koba_booking.booking_settings:
  path: '/admin/booking/settings'
  defaults:
    _form: '\Drupal\koba_booking\Form\BookingSettingsForm'
    _title: 'Booking Settings'
  requirements:
    _permission: 'administer booking settings'

koba_booking.booking_messages:
  path: '/admin/booking/messsages'
  defaults:
    _form: '\Drupal\koba_booking\Form\BookingMessagesForm'
    _title: 'Booking Messages'
  requirements:
    _permission: 'administer booking settings'


# --- Entity related routing --- #
entity.koba_booking_booking.canonical:
  path: '/booking/{koba_booking_booking}'
  defaults:
    _entity_view: 'koba_booking_booking'
    _title: 'Booking Content'
  requirements:
    _entity_access: 'koba_booking_booking.view'
  options:
    _admin_route: TRUE

entity.koba_booking_booking.edit_form:
  path: '/booking/{koba_booking_booking}/edit'
  defaults:
    _entity_form: koba_booking_booking.edit
    _title: 'Edit Booking'
  requirements:
    _entity_access: 'koba_booking_booking.edit'
  options:
    _admin_route: TRUE

entity.koba_booking_booking.delete_form:
  path: '/booking/{koba_booking_booking}/delete'
  defaults:
    _entity_form: koba_booking_booking.delete
    _title: 'Delete Booking'
  requirements:
    _entity_access: 'koba_booking_booking.delete'
  options:
    _admin_route: TRUE


# --- Create booking routes --- #
koba_booking.calendar_page:
  path: '/booking/calendar'
  defaults:
    _controller: '\Drupal\koba_booking\Controller\KobaBookingController::calendarPage'
    _title: 'Booking'
  requirements:
    _permission: 'access content'

koba_booking.booking_add:
  path: '/booking/add'
  defaults:
    _entity_form: koba_booking_booking.add
    _title: 'Booking'
  requirements:
    _entity_create_access: 'koba_booking_booking'

koba_booking.receipt:
  path: '/booking/receipt/{hash}'
  defaults:
    _controller: '\Drupal\koba_booking\Controller\KobaBookingController::receipt'
    _title: 'Booking receipt'
  requirements:
    _permission: 'access content'

# --- Form autocomplete --- #
koba_booking.autocomplete:
  path: '/koba_booking/autocomplete/{entity_type}/{field_name}'
  defaults:
    _controller: '\Drupal\koba_booking\Controller\KobaAutocompleteController::autocomplete'
  requirements:
    _permission: 'access content'


# --- Actions --- #
koba_booking.action_accept:
  path: '/booking/{koba_booking_booking}/accept'
  defaults:
    _controller: '\Drupal\koba_booking\Controller\KobaBookingController::actionAccept'
    _title: 'Cancel action'
  requirements:
    _permission: 'edit booking entity'
  options:
    _admin_route: TRUE

koba_booking.action_refuse:
  path: '/booking/{koba_booking_booking}/refuse'
  defaults:
    _controller: '\Drupal\koba_booking\Controller\KobaBookingController::actionRefuse'
    _title: 'Cancel action'
  requirements:
    _permission: 'edit booking entity'
  options:
    _admin_route: TRUE

koba_booking.action_cancel:
  path: '/booking/{koba_booking_booking}/cancel/'
  defaults:
    _controller: '\Drupal\koba_booking\Controller\KobaBookingController::actionCancel'
    _title: 'Cancel action'
  requirements:
    _permission: 'edit booking entity'
  options:
    _admin_route: TRUE
