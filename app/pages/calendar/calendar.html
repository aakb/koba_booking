<div class="booking--calendar-page" data-ng-controller="CalendarController">
  <div class="booking--selection">
    <div class="booking--selection-date-time-wrapper">
      <div class="booking--selection-date-picker">
        <div class="booking--selection-header-date" data-ng-click="toggleDate()">{{ t('Date') }}</div>
        <div class="booking--selection-display-date" data-ng-click="toggleDate()"><span class="icon--calendar" data-ng-include="'/modules/koba_booking/templates/svgs/calendar-icon.svg'"></span>{{ getSelectedDate() | date: 'd/M-yy' }}</div>
        <div class="booking--popup" data-ng-cloak data-ng-if="pickDate">
          <div class="booking--popup-inner">
            <div class="booking--popup-header">
              <h2 class="booking--popup-header-text">{{ t('Date') }}</h2>
              <div class="booking--popup-close-text" data-ng-click="toggleDate()">{{ t('Close') }}</div>
            </div>
            <div data-ng-model="selected.date" date-picker="" close-function="toggleDate()" number-of-months="9" class="booking--popup-calendar-wrapper"></div>
          </div>
        </div>
      </div>
      <div class="booking--selection-time-picker">
        <div class="booking--selection-header-time" data-ng-click="toggleTime()">{{ t('Time') }}</div>
        <div class="booking--selection-display-time" data-ng-click="toggleTime()"><span class="icon--clock" data-ng-include="'/modules/koba_booking/templates/svgs/clock-icon.svg'"></span>{{ getSelectedStartTime() }} - {{ getSelectedEndTime() }}</div>
        <div class="booking--popup" data-ng-if="pickTime">
          <div class="booking--popup-inner">
            <div class="booking--popup-header">
              <h2 class="booking--popup-header-text">{{ t('Time') }}</h2>
              <div class="booking--popup-close-text" data-ng-click="toggleTime()">{{ t('Close') }}</div>
            </div>
            <div class="booking--popup-content">
              <div class="booking--popup-timepicker-wrapper">
                <itk-time-picker class="booking--popup-timepicker" time="selected.time.start" step="30"></itk-time-picker>
                <div class="booking--popup-timepicker-text">til</div>
                <itk-time-picker class="booking--popup-timepicker" time="selected.time.end" step="30"></itk-time-picker>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="booking--selection-resource-picker">
        <div class="booking--selection-header-resource" data-ng-click="toggleResource()">{{ t('Resources') }}</div>
        <div class="booking--selection-display-resource" data-ng-click="toggleResource()" >{{ getSelectedResource() }}</div>
      </div>
    </div>
  </div>
  <div class="booking--popup" data-ng-if="pickResource">
    <div class="booking--popup-inner">
      <div class="booking--popup-header">
        <h2 class="booking--popup-header-text">{{ t('Resources') }}</h2>
        <div class="booking--popup-close-text" data-ng-click="toggleResource()">{{ t('Ok') }}</div>
      </div>
      <form class="booking--popup-content">
        <div data-ng-repeat="resource in resources" data-ng-click="setResource(resource)" class="booking--radio-select">
          <input class="booking--popup-radio-input" type="radio" name="resources-radio" value="{{resource.mail}}" id="resources-{{resource.name}}" />
          <label class="booking--popup-radio-label" for="resources-{{resource.name}}">{{resource.name}}</label>
        </div>
      </form>
    </div>
  </div>
  <div class="booking--selection-resource-picker-mobile">
    <div data-ng-click="toggleResource()">{{ t('Select resource')}}</div>
  </div>
  <div class="booking--display">
    <div class="booking--display-date">
      <span class="booking--display-date-arrow-left" data-ng-click="prevDate()">
        <span class="booking--arrow-large is-left" data-ng-include="'/modules/koba_booking/templates/svgs/arrow.svg'"></span>
      </span>
      <span class="booking--display-header">{{ getSelectedDate() | date: 'EEEE d/M-yyyy' }}</span>
      <span class="booking--display-date-arrow-right" data-ng-click="nextDate()">
        <span class="booking--arrow-large is-right" data-ng-include="'/modules/koba_booking/templates/svgs/arrow.svg'"></span>
      </span>
    </div>
    <booking-calendar selected-date="selected.date" selected-resource="selected.resource" selected-start="selected.time.start" selected-end="selected.time.end" interest-period="interestPeriod" disabled="disabled"></booking-calendar>
  </div>

  <div class="booking--submit-wrapper" data-ng-class="{'is-active': selected.time.start && selected.time.end && selected.date && selected.resource}">
    <a href="/booking/add" class="booking--add-submit-date">{{ t('Continue') }}</a>
  </div>
</div>